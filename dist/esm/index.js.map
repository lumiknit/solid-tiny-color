{"version":3,"file":"index.js","sources":["../../src/utils.ts","../../src/color.ts","../../src/style.ts","../../src/ColorPointer.tsx","../../src/ColorBoard.tsx","../../src/HSCircle.tsx","../../src/SLTriangle.tsx","../../src/HueWheel.tsx","../../src/HSLWheel.tsx","../../src/SVSquare.tsx","../../src/HSVWheel.tsx","../../src/Slider.tsx"],"sourcesContent":["export const degToRad: number = Math.PI / 180;\nexport const clamp = (value: number, min: number, max: number): number =>\n\tMath.min(Math.max(value, min), max);\nexport const cross = (v: number) => Math.min(v, 1 - v);\n","import { cross } from './utils';\n\ntype Num3 = [number, number, number];\n\nexport type RGB = Num3; // r, g, b: 0-255\nexport type HSL = Num3; // h: 0-360, s, l: 0.0-1.0\nexport type HSV = Num3; // h: 0-360, s, v: 0.0-1.0\n\nconst multConst = (k: number, [a, b, c]: Num3): Num3 => [k * a, k * b, k * c];\n\nexport const rgbToGrayscale = ([r, g, b]: RGB): number =>\n\tr * 0.299 + g * 0.587 + b * 0.114;\n\nexport const rgbToHSL = (rgb: RGB): HSL => {\n\tconst [r, g, b] = multConst(1 / 255, rgb),\n\t\tv = Math.max(r, g, b),\n\t\tc = v - Math.min(r, g, b),\n\t\tf = 1 - Math.abs(v + v - c - 1),\n\t\th =\n\t\t\tc && (v == r ? (g - b) / c : v == g ? 2 + (b - r) / c : 4 + (r - g) / c);\n\treturn [60 * (h < 0 ? h + 6 : h), f ? c / f : 0, (v + v - c) / 2];\n};\n\nexport const rgbToHSV = (rgb: RGB): HSV => {\n\tconst [r, g, b] = multConst(1 / 255, rgb),\n\t\tv = Math.max(r, g, b),\n\t\tc = v - Math.min(r, g, b),\n\t\th =\n\t\t\tc && (v == r ? (g - b) / c : v == g ? 2 + (b - r) / c : 4 + (r - g) / c);\n\treturn [60 * (h < 0 ? h + 6 : h), v && c / v, v];\n};\n\nexport const hsvToRGB = ([h, s, v]: HSV): RGB => {\n\tconst f = (n: number, k = (n + h / 60) % 6) =>\n\t\tv - v * s * Math.max(Math.min(k, 4 - k, 1), 0);\n\treturn multConst(255, [f(5), f(3), f(1)]);\n};\n\nexport const hslToRGB = ([h, s, l]: HSL): RGB => {\n\tconst a = s * cross(l),\n\t\tf = (n: number, k = (n + h / 30) % 12) =>\n\t\t\tl - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n\treturn multConst(255, [f(0), f(8), f(4)]);\n};\n\nexport const hslToHSV = ([h, s, l]: HSL, v = s * cross(l) + l): HSV => [\n\th,\n\tv ? 2 - (2 * l) / v : 0,\n\tv,\n];\n\nexport const hsvToHSL = (\n\t[h, s, v]: HSV,\n\tl = v - (v * s) / 2,\n\tm = cross(l)\n): HSL => [h, m ? (v - l) / m : 0, l];\n\nexport const hslToStyle = ([h, s, l]: HSL): string =>\n\t`hsl(${h} ${100 * s}%${100 * l}%)`;\n\nexport const hsvToStyle = (hsv: HSV): string => hslToStyle(hsvToHSL(hsv));\n\nexport const rgbToStyle = (rgb: RGB): string =>\n\t`rgb(${rgb[0]},${rgb[1]},${rgb[2]})`;\n\nexport const rgbToHash = (rgb: RGB): string =>\n\t`#${rgb.map((c) => Math.floor(c).toString(16).padStart(2, '0')).join('')}`;\n\nexport const luminance = (rgb: RGB): number => {\n\tconst [r, g, b] = rgb\n\t\t.map((c) => c / 255)\n\t\t.map((c) => (c <= 0.03928 ? c / 12.92 : ((c + 0.055) / 1.055) ** 2));\n\treturn r * 0.2126 + g * 0.7152 + b * 0.0722;\n};\n\nexport const contrast = (rgb1: RGB, rgb2: RGB): number => {\n\tconst l1 = luminance(rgb1),\n\t\tl2 = luminance(rgb2);\n\treturn l1 > l2 ? (l1 + 0.05) / (l2 + 0.05) : (l2 + 0.05) / (l1 + 0.05);\n};\n","import { JSX } from 'solid-js';\n\nexport const styleWH100: JSX.CSSProperties = {\n\twidth: '100%',\n\theight: '100%',\n};\n\nexport const styleAbsLT0: JSX.CSSProperties = {\n\tposition: 'absolute',\n\tleft: '0',\n\ttop: '0',\n};\n\nexport const styleBgCheckerboard = (\n\tcolor1: string,\n\tcolor2: string,\n\tsize = 16\n): JSX.CSSProperties => ({\n\tbackground: `repeating-conic-gradient(${color1} 0% 25%, ${color2} 25% 50%)`,\n\t'background-size': `${size}px ${size}px`,\n});\n\nexport const styleNoTouchAction: JSX.CSSProperties = {\n\t'touch-action': 'none',\n\t'-webkit-touch-callout': 'none',\n\t'-webkit-tap-highlight-color': 'transparent',\n\t'-webkit-user-select': 'none',\n\t'-khtml-user-select': 'none',\n\t'-moz-user-select': 'none',\n\t'-ms-user-select': 'none',\n\t'user-select': 'none',\n};\n\nconst gd = (deg: number) => `hsl(${deg},100%,50%) ${deg}deg`;\nexport const gradHueConic: string = `conic-gradient(${[0, 120, 240, 360].map(gd).join()})`;\n","import { Component, JSX, mergeProps } from 'solid-js';\nimport { HSV, hsvToRGB, rgbToGrayscale, rgbToStyle } from './color';\n\ntype Props = {\n\tpos: [number, number]; // 0.0 to 1.0\n\n\t/** Size of pointer */\n\tsize?: string;\n\n\t/** Fill color */\n\thsv: HSV;\n\n\t/** Override styles */\n\tstyle?: JSX.CSSProperties;\n\n\t/** Override class */\n\tclass?: string;\n};\n\nconst ColorPointer: Component<Props> = (props_) => {\n\tconst props = mergeProps({ size: '10px' }, props_);\n\tconst rgb = () => hsvToRGB(props.hsv);\n\treturn (\n\t\t<div\n\t\t\tclass={props.class}\n\t\t\tstyle={{\n\t\t\t\t'pointer-events': 'none', // Prevent pointer event to this div\n\t\t\t\tposition: 'absolute',\n\t\t\t\tleft: `${props.pos[0] * 100}%`,\n\t\t\t\ttop: `${props.pos[1] * 100}%`,\n\t\t\t\twidth: props.size,\n\t\t\t\theight: props.size,\n\t\t\t\tborder: `2px solid ${rgbToGrayscale(rgb()) > 127 ? 'black' : 'white'}`,\n\t\t\t\t'border-radius': '50%',\n\t\t\t\ttransform: 'translate(-50%, -50%)',\n\t\t\t\t'background-color': rgbToStyle(rgb()),\n\t\t\t\t...props.style,\n\t\t\t}}\n\t\t/>\n\t);\n};\n\nexport default ColorPointer;\n","import { Component, JSX, splitProps } from 'solid-js';\nimport { HSV } from './color';\nimport { styleNoTouchAction } from './style';\nimport ColorPointer from './ColorPointer';\nimport { clamp } from './utils';\n\nexport type ColorProps = {\n\t/** Current selected color */\n\thsv: HSV;\n\n\t/** Event handler for color is picked.\n\t * @param hsl Picked color.\n\t */\n\tonHSVChange?: (hsv: HSV) => void;\n\n\t/** Pointer style */\n\tpointerStyle?: JSX.CSSProperties;\n\n\t/** Pointer class */\n\tpointerClass?: string;\n} & JSX.IntrinsicElements['div'];\n\n/**\n * ColorBoard\n */\nexport type ColorBoardProps = {\n\t/** Current selected color */\n\thsv: HSV;\n\n\t/** Event handler for specific xy is picked.\n\t * @param pos Position of picked. Each [x, y] is between 0.0 to 1.0.\n\t * @param init If true, this is down event, not move.\n\t * @returns If true or undefined, successfully color was picked, and capture the pointer.\n\t */\n\tonPick?: (x: number, y: number, init?: boolean) => boolean | void;\n\n\t/**\n\t * Color to position handler.\n\t * @param hsv Color to convert.\n\t * @returns Position of color. Each [x, y] is between 0.0 to 1.0.\n\t */\n\tcolorToPos: (hsv: HSV) => [number, number];\n\n\t/** Pointer style */\n\tpointerStyle?: JSX.CSSProperties;\n\n\t/** Pointer class */\n\tpointerClass?: string;\n} & JSX.IntrinsicElements['div'];\n\n/**\n * Color board component\n * This is a wrapper of all color board.\n */\nexport const ColorBoard: Component<ColorBoardProps> = (props) => {\n\tlet ref: HTMLDivElement;\n\tconst [locals, others] = splitProps(props, [\n\t\t'hsv',\n\t\t'onPick',\n\t\t'colorToPos',\n\t\t'pointerStyle',\n\t\t'pointerClass',\n\t]);\n\tconst handlePointerEvent: JSX.EventHandler<HTMLDivElement, PointerEvent> = (\n\t\te\n\t) => {\n\t\tif (!props.onPick || e.buttons === 0) return;\n\t\t// Check pointer is down\n\t\tconst x = clamp(e.offsetX / e.currentTarget.offsetWidth, 0, 1),\n\t\t\ty = clamp(e.offsetY / e.currentTarget.offsetHeight, 0, 1);\n\t\tif (props.onPick(x, y, e.type === 'pointerdown') !== false) {\n\t\t\tref.setPointerCapture(e.pointerId);\n\t\t} else {\n\t\t\tref.releasePointerCapture(e.pointerId);\n\t\t}\n\t};\n\treturn (\n\t\t<div\n\t\t\t{...others}\n\t\t\tref={ref!}\n\t\t\tstyle={{\n\t\t\t\tposition: 'relative',\n\t\t\t\t...styleNoTouchAction,\n\t\t\t\t...(typeof props.style === 'object' ? props.style : {}),\n\t\t\t}}\n\t\t\tonPointerDown={handlePointerEvent}\n\t\t\tonPointerMove={handlePointerEvent}\n\t\t>\n\t\t\t{props.children}\n\t\t\t<ColorPointer\n\t\t\t\tpos={props.colorToPos(props.hsv)}\n\t\t\t\thsv={props.hsv}\n\t\t\t\tstyle={locals.pointerStyle}\n\t\t\t\tclass={locals.pointerClass}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n","import { Component } from 'solid-js';\nimport { ColorBoard, ColorProps } from './ColorBoard';\nimport { gradHueConic, styleWH100 } from './style';\nimport { degToRad } from './utils';\n\nconst HSCircle: Component<ColorProps> = (props) => {\n\tconst blackOverlay = () => `rgba(0,0,0,${1 - props.hsv[2]})`;\n\treturn (\n\t\t<ColorBoard\n\t\t\t{...props}\n\t\t\tonPick={(x, y) => {\n\t\t\t\t// Get current value\n\t\t\t\tconst dx = x * 2 - 1;\n\t\t\t\tconst dy = y * 2 - 1;\n\t\t\t\tprops.onHSVChange?.([\n\t\t\t\t\t(Math.atan2(dy, dx) / degToRad + 450) % 360,\n\t\t\t\t\tMath.min(Math.sqrt(dx * dx + dy * dy), 1),\n\t\t\t\t\tprops.hsv[2],\n\t\t\t\t]);\n\t\t\t}}\n\t\t\tcolorToPos={([h, s]) => {\n\t\t\t\tconst angle = h * degToRad;\n\t\t\t\treturn [(Math.sin(angle) * s + 1) / 2, (-Math.cos(angle) * s + 1) / 2];\n\t\t\t}}\n\t\t>\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\t...styleWH100,\n\t\t\t\t\t'background-image': `linear-gradient(${blackOverlay()},${blackOverlay()}),radial-gradient(closest-side, #ffff, #fff0),${gradHueConic}`,\n\t\t\t\t\t'border-radius': '50%',\n\t\t\t\t}}\n\t\t\t/>\n\t\t</ColorBoard>\n\t);\n};\n\nexport default HSCircle;\n","import { Component, onMount } from 'solid-js';\nimport { ColorBoard, ColorProps } from './ColorBoard';\nimport { styleAbsLT0, styleWH100 } from './style';\nimport { HSL, hslToHSV, hsvToHSL } from './color';\nimport { cross } from './utils';\n\nconst renderSLTriangle = (\n\tctx: CanvasRenderingContext2D,\n\twidth: number,\n\theight: number\n) => {\n\tctx.clearRect(0, 0, width, height);\n\tctx.fillStyle = '#fff';\n\tfor (let sy = 0; sy < height; sy++) {\n\t\tconst yr = sy / height;\n\t\tconst w = Math.round(2 * width * Math.min(yr, 1 - yr));\n\t\tfor (let sx = 0; sx < w; sx++) {\n\t\t\tconst x = sx / width;\n\t\t\tconst y = 1 - yr + x / 2;\n\n\t\t\t// Blend s\n\t\t\tconst r = 255 * y;\n\t\t\tconst gb = r * (1 - x / y);\n\n\t\t\tctx.fillStyle = `rgb(${r},${gb},${gb})`;\n\t\t\tctx.fillRect(sx, sy, 1, 1);\n\t\t}\n\t\tif (width - w > 0) ctx.fillRect(w, sy, width - w, 1);\n\t}\n};\n\nconst SLTriangle: Component<ColorProps> = (props) => {\n\tlet canvasRef: HTMLCanvasElement;\n\n\tconst hue = () => props.hsv[0];\n\n\tonMount(() => {\n\t\t// Render Red + SV Triangle\n\t\tconst ctx = canvasRef.getContext('2d');\n\t\tif (ctx) renderSLTriangle(ctx, canvasRef.width, canvasRef.height);\n\t});\n\n\tconst cp = 'polygon(0 0, 0 100%, 100% 50%)';\n\n\treturn (\n\t\t<ColorBoard\n\t\t\t{...props}\n\t\t\tstyle={{\n\t\t\t\t...(typeof props.style === 'object' ? props.style : {}),\n\t\t\t\t'clip-path': cp,\n\t\t\t}}\n\t\t\tonPick={(x, y, init) => {\n\t\t\t\tlet w = 2 * cross(y);\n\t\t\t\tif (x > w) {\n\t\t\t\t\tif (init) return false;\n\t\t\t\t\t// Find the nearest point on the edge\n\t\t\t\t\t// Distance from the edge\n\t\t\t\t\tconst dx = x - w;\n\t\t\t\t\tx -= dx * 0.3;\n\t\t\t\t\tif (y > 0.5) y -= dx * 0.35;\n\t\t\t\t\telse y += dx * 0.35;\n\t\t\t\t\tw = 2 * cross(y);\n\t\t\t\t}\n\t\t\t\tif (w > 0) x /= w;\n\t\t\t\tconst newHSL: HSL = [props.hsv[0], x, 1 - y];\n\t\t\t\tprops.onHSVChange?.(hslToHSV(newHSL));\n\t\t\t\treturn true;\n\t\t\t}}\n\t\t\tcolorToPos={(hsv) => {\n\t\t\t\tconst [, s, l] = hsvToHSL(hsv);\n\t\t\t\treturn [2 * cross(l) * s, 1 - l];\n\t\t\t}}\n\t\t>\n\t\t\t<canvas\n\t\t\t\tref={canvasRef!}\n\t\t\t\twidth={32}\n\t\t\t\theight={32}\n\t\t\t\tstyle={{\n\t\t\t\t\t...styleWH100,\n\t\t\t\t\t...styleAbsLT0,\n\t\t\t\t\t'clip-path': cp,\n\t\t\t\t\tfilter: `hue-rotate(${hue()}deg)`,\n\t\t\t\t}}\n\t\t\t/>\n\t\t</ColorBoard>\n\t);\n};\n\nexport default SLTriangle;\n","import { Component } from 'solid-js';\nimport { ColorBoard, ColorProps } from './ColorBoard';\nimport { gradHueConic, styleWH100 } from './style';\nimport { degToRad } from './utils';\n\ntype Props = {\n\t/** Stroke width ratio, percent (0.0-1.0) */\n\tstrokeWidth: number;\n} & ColorProps;\n\nconst HueWheel: Component<Props> = (props) => {\n\treturn (\n\t\t<ColorBoard\n\t\t\t{...props}\n\t\t\tonPick={(x, y) => {\n\t\t\t\tconst angle = Math.atan2(y - 0.5, x - 0.5) / degToRad;\n\t\t\t\tprops.onHSVChange?.([(angle + 450) % 360, props.hsv[1], props.hsv[2]]);\n\t\t\t}}\n\t\t\tcolorToPos={([h]) => {\n\t\t\t\tconst angle = h * degToRad;\n\t\t\t\tconst r = (1 - (100 * props.strokeWidth) / 200) / 2;\n\t\t\t\treturn [0.5 + r * Math.sin(angle), 0.5 - r * Math.cos(angle)];\n\t\t\t}}\n\t\t>\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\t...styleWH100,\n\t\t\t\t\t'background-image': gradHueConic,\n\t\t\t\t\t'border-radius': '50%',\n\t\t\t\t\t'mask-image': `radial-gradient(closest-side circle at center,transparent ${99.5 - 100 * props.strokeWidth}%,black ${100 - 100 * props.strokeWidth}%)`,\n\t\t\t\t}}\n\t\t\t/>\n\t\t</ColorBoard>\n\t);\n};\n\nexport default HueWheel;\n","import { Component, splitProps } from 'solid-js';\nimport { ColorProps } from './ColorBoard';\nimport SLTriangle from './SLTriangle';\nimport HueWheel from './HueWheel';\nimport { styleAbsLT0, styleWH100 } from './style';\n\ntype Props = {\n\t/** Stroke width ratio, percent (0.0-1.0) */\n\tstrokeWidth: number;\n\n\t/** Enable rotation */\n\trotate?: boolean;\n} & ColorProps;\n\nconst HSLWheel: Component<Props> = (props) => {\n\tconst [local, divProps] = splitProps(props, [\n\t\t'rotate',\n\t\t'strokeWidth',\n\t\t'hsv',\n\t\t'onHSVChange',\n\t\t'children',\n\t]);\n\n\tconst rad = () => 50 * (0.99 - props.strokeWidth);\n\n\treturn (\n\t\t<div\n\t\t\t{...divProps}\n\t\t\tstyle={{\n\t\t\t\tposition: 'relative',\n\t\t\t}}\n\t\t>\n\t\t\t<HueWheel\n\t\t\t\t{...local}\n\t\t\t\tstyle={{\n\t\t\t\t\t...styleAbsLT0,\n\t\t\t\t\t...styleWH100,\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<SLTriangle\n\t\t\t\t{...local}\n\t\t\t\tstyle={{\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\tleft: `${50 - rad() / 2}%`,\n\t\t\t\t\ttop: `${50 - (rad() * Math.sqrt(3)) / 2}%`,\n\t\t\t\t\twidth: `${rad() * 1.5}%`,\n\t\t\t\t\theight: `${rad() * Math.sqrt(3)}%`,\n\t\t\t\t\ttransform: props.rotate\n\t\t\t\t\t\t? `translate(-16.7%, 0) rotate(${props.hsv[0] - 90}deg) translate(16.7%, 0)`\n\t\t\t\t\t\t: 'none',\n\t\t\t\t}}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default HSLWheel;\n","import { Component } from 'solid-js';\nimport { ColorBoard, ColorProps } from './ColorBoard';\nimport { styleWH100 } from './style';\n\nconst SVSquare: Component<ColorProps> = (props) => {\n\tconst hue = () => props.hsv[0];\n\treturn (\n\t\t<ColorBoard\n\t\t\t{...props}\n\t\t\tonPick={(x, y) => {\n\t\t\t\tprops.onHSVChange?.([props.hsv[0], x, 1 - y]);\n\t\t\t}}\n\t\t\tcolorToPos={([, s, v]) => [s, 1 - v]}\n\t\t>\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\t...styleWH100,\n\t\t\t\t\t'background-color': `hsl(${hue()}, 100%, 50%)`,\n\t\t\t\t\t'background-image': `linear-gradient(to top, #000, #0000), linear-gradient(to right, #fff, #fff0)`,\n\t\t\t\t}}\n\t\t\t/>\n\t\t</ColorBoard>\n\t);\n};\n\nexport default SVSquare;\n","import { Component, splitProps } from 'solid-js';\nimport { ColorProps } from './ColorBoard';\nimport SVSquare from './SVSquare';\nimport HueWheel from './HueWheel';\nimport { styleAbsLT0, styleWH100 } from './style';\n\ntype Props = {\n\t/** Stroke width ratio, percent (0.0-1.0) */\n\tstrokeWidth: number;\n\n\t/** Enable rotation */\n\trotate?: boolean;\n} & ColorProps;\n\nconst HSVWheel: Component<Props> = (props) => {\n\tconst [local, divProps] = splitProps(props, [\n\t\t'rotate',\n\t\t'strokeWidth',\n\t\t'hsv',\n\t\t'onHSVChange',\n\t\t'children',\n\t]);\n\n\tconst squareWidth = () => (100 * (0.99 - props.strokeWidth)) / Math.sqrt(2);\n\n\treturn (\n\t\t<div\n\t\t\t{...divProps}\n\t\t\tstyle={{\n\t\t\t\tposition: 'relative',\n\t\t\t}}\n\t\t>\n\t\t\t<HueWheel\n\t\t\t\t{...local}\n\t\t\t\tstyle={{\n\t\t\t\t\t...styleAbsLT0,\n\t\t\t\t\t...styleWH100,\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<SVSquare\n\t\t\t\t{...local}\n\t\t\t\tstyle={{\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\tleft: `${(100 - squareWidth()) / 2}%`,\n\t\t\t\t\ttop: `${(100 - squareWidth()) / 2}%`,\n\t\t\t\t\twidth: `${squareWidth()}%`,\n\t\t\t\t\theight: `${squareWidth()}%`,\n\t\t\t\t\ttransform: props.rotate ? `rotate(${props.hsv[0] - 45}deg)` : 'none',\n\t\t\t\t}}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default HSVWheel;\n","import { Component, JSX, mergeProps, Show, splitProps } from 'solid-js';\nimport { ColorBoard, ColorProps } from './ColorBoard';\nimport { styleAbsLT0, styleBgCheckerboard, styleWH100 } from './style';\nimport {\n\thslToHSV,\n\thslToStyle,\n\tHSV,\n\thsvToHSL,\n\thsvToRGB,\n\thsvToStyle,\n\tRGB,\n\trgbToHSV,\n\trgbToStyle,\n} from './color';\n\ntype Props = {\n\t/** Color map\n\t * @param hsv Current color\n\t * @param p Position. 0.0 is leftmost, 1.0 is rightmost.\n\t * @returns [color for style, color in HSV]\n\t */\n\tcolorMap: (hsv: HSV, p: number) => [string, HSV];\n\n\t/** Inverse Color map\n\t * @param color Color in HSV\n\t * @returns Position. 0.0 is leftmost, 1.0 is rightmost.\n\t */\n\tinverseColorMap: (color: HSV) => number;\n\n\t/** Background image */\n\tbackgorundStyle?: JSX.CSSProperties;\n} & ColorProps;\n\nconst Slider: Component<Props> = (props) => {\n\tconst [locals, colorProps] = splitProps(props, [\n\t\t'colorMap',\n\t\t'inverseColorMap',\n\t\t'backgorundStyle',\n\t]);\n\treturn (\n\t\t<ColorBoard\n\t\t\t{...colorProps}\n\t\t\tonPick={(x) => {\n\t\t\t\tconst hsv = locals.colorMap(colorProps.hsv, x)[1];\n\t\t\t\tcolorProps.onHSVChange?.(hsv);\n\t\t\t}}\n\t\t\tcolorToPos={(hsv) => [locals.inverseColorMap(hsv), 0.5]}\n\t\t>\n\t\t\t<Show when={locals.backgorundStyle}>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\t...styleAbsLT0,\n\t\t\t\t\t\t...styleWH100,\n\t\t\t\t\t\t...locals.backgorundStyle,\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</Show>\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\t...styleAbsLT0,\n\t\t\t\t\t...styleWH100,\n\t\t\t\t\t'background-image': `linear-gradient(to right, ${[0, 0.25, 0.5, 0.75, 1].map((v) => props.colorMap(props.hsv, v)[0]).join()})`,\n\t\t\t\t}}\n\t\t\t/>\n\t\t</ColorBoard>\n\t);\n};\n\nexport default Slider;\n\n// Derived sliders\n\nconst RGBSlider =\n\t(idx: 0 | 1 | 2): Component<ColorProps> =>\n\t(props) => {\n\t\tconst rgbUpd = (rgb: RGB, v: number) => {\n\t\t\trgb[idx] = v * 255;\n\t\t\treturn rgb;\n\t\t};\n\t\treturn (\n\t\t\t<Slider\n\t\t\t\t{...props}\n\t\t\t\tcolorMap={(hsv, p) => {\n\t\t\t\t\tconst rgb = rgbUpd(hsvToRGB(hsv), p);\n\t\t\t\t\treturn [rgbToStyle(rgb), rgbToHSV(rgb)];\n\t\t\t\t}}\n\t\t\t\tinverseColorMap={(hsv) => hsvToRGB(hsv)[idx] / 255}\n\t\t\t/>\n\t\t);\n\t};\n\nexport const RGBSliderR = RGBSlider(0);\nexport const RGBSliderG = RGBSlider(1);\nexport const RGBSliderB = RGBSlider(2);\n\nconst hMaxs = [360, 1, 1];\n\nconst HSVSlider =\n\t(idx: 0 | 1 | 2): Component<ColorProps> =>\n\t(props) => {\n\t\treturn (\n\t\t\t<Slider\n\t\t\t\t{...props}\n\t\t\t\tcolorMap={(hsv, p) => {\n\t\t\t\t\tconst z: HSV = [...hsv];\n\t\t\t\t\tz[idx] = p * hMaxs[idx];\n\t\t\t\t\treturn [hsvToStyle(z), z];\n\t\t\t\t}}\n\t\t\t\tinverseColorMap={(hsv) => hsv[idx] / hMaxs[idx]}\n\t\t\t/>\n\t\t);\n\t};\n\nexport const HSVSliderH = HSVSlider(0);\nexport const HSVSliderS = HSVSlider(1);\nexport const HSVSliderV = HSVSlider(2);\n\nconst HSLSlider =\n\t(idx: 0 | 1 | 2): Component<ColorProps> =>\n\t(props) => {\n\t\treturn (\n\t\t\t<Slider\n\t\t\t\t{...props}\n\t\t\t\tcolorMap={(hsv, p) => {\n\t\t\t\t\tconst hsl = hsvToHSL(hsv);\n\t\t\t\t\thsl[idx] = p * hMaxs[idx];\n\t\t\t\t\treturn [hslToStyle(hsl), hslToHSV(hsl)];\n\t\t\t\t}}\n\t\t\t\tinverseColorMap={(hsv) => hsvToHSL(hsv)[idx] / hMaxs[idx]}\n\t\t\t/>\n\t\t);\n\t};\n\nexport const HSLSliderH = HSLSlider(0);\nexport const HSLSliderS = HSLSlider(1);\nexport const HSLSliderL = HSLSlider(2);\n\ntype AlphaSliderProps = {\n\tbgColor1?: string;\n\tbgColor2?: string;\n\n\talpha: number;\n\tonAlphaChange?: (alpha: number) => void;\n} & ColorProps;\n\nexport const AlphaSlider: Component<AlphaSliderProps> = (props_) => {\n\tconst props = mergeProps(\n\t\t{ bgColor1: 'darkgray', bgColor2: 'lightgray' },\n\t\tprops_\n\t);\n\tconst [locals, colorProps] = splitProps(props, [\n\t\t'bgColor1',\n\t\t'bgColor2',\n\t\t'alpha',\n\t\t'onAlphaChange',\n\t\t'hsv',\n\t\t'onHSVChange',\n\t]);\n\treturn (\n\t\t<Slider\n\t\t\t{...colorProps}\n\t\t\thsv={[0, locals.alpha, 0]}\n\t\t\tonHSVChange={(hsv) => {\n\t\t\t\tprops.onAlphaChange?.(hsv[1]);\n\t\t\t}}\n\t\t\tcolorMap={(_, p) => [\n\t\t\t\t`rgba(${hsvToRGB(locals.hsv).join()},${p})`,\n\t\t\t\t[0, p, 0],\n\t\t\t]}\n\t\t\tinverseColorMap={(hsv) => hsv[1]}\n\t\t\tbackgorundStyle={styleBgCheckerboard(locals.bgColor1, locals.bgColor2)}\n\t\t/>\n\t);\n};\n"],"names":["degToRad","Math","PI","clamp","value","min","max","cross","v","multConst","k","a","b","c","rgbToGrayscale","r","g","rgbToHSL","rgb","f","abs","h","rgbToHSV","hsvToRGB","s","n","hslToRGB","l","hslToHSV","hsvToHSL","m","hslToStyle","hsvToStyle","hsv","rgbToStyle","rgbToHash","map","floor","toString","padStart","join","luminance","contrast","rgb1","rgb2","l1","l2","styleWH100","width","height","styleAbsLT0","position","left","top","styleBgCheckerboard","color1","color2","size","background","styleNoTouchAction","gradHueConic","deg","ColorPointer","props_","props","mergeProps","_el$","_tmpl$","_$effect","_p$","_v$","class","_v$2","pos","border","transform","style","e","_$className","t","_$style","undefined","ColorBoard","ref","locals","others","splitProps","handlePointerEvent","onPick","buttons","x","offsetX","currentTarget","offsetWidth","y","offsetY","offsetHeight","type","setPointerCapture","pointerId","releasePointerCapture","_$use","_$spread","_$mergeProps","onPointerDown","onPointerMove","_$insert","children","_$createComponent","colorToPos","pointerStyle","pointerClass","HSCircle","blackOverlay","dx","dy","onHSVChange","atan2","sqrt","angle","sin","cos","_$p","SLTriangle","canvasRef","onMount","ctx","getContext","renderSLTriangle","clearRect","fillStyle","sy","yr","w","round","sx","gb","fillRect","cp","init","newHSL","filter","HueWheel","strokeWidth","HSLWheel","local","divProps","rad","rotate","SVSquare","HSVWheel","squareWidth","Slider","colorProps","colorMap","inverseColorMap","Show","when","backgorundStyle","_el$2","RGBSlider","idx","p","rgbUpd","RGBSliderR","RGBSliderG","RGBSliderB","hMaxs","HSVSlider","z","HSVSliderH","HSVSliderS","HSVSliderV","HSLSlider","hsl","HSLSliderH","HSLSliderS","HSLSliderL","AlphaSlider","bgColor1","bgColor2","alpha","onAlphaChange","_"],"mappings":"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"}