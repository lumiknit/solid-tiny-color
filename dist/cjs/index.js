"use strict";var e=require("solid-js/web"),t=require("solid-js");const r=Math.PI/180,o=(e,t,r)=>Math.min(Math.max(e,t),r),n=e=>Math.min(e,1-e),s=(e,[t,r,o])=>[e*t,e*r,e*o],a=([e,t,r])=>.299*e+.587*t+.114*r,l=e=>{const[t,r,o]=s(1/255,e),n=Math.max(t,r,o),a=n-Math.min(t,r,o),l=a&&(n==t?(r-o)/a:n==r?2+(o-t)/a:4+(t-r)/a);return[60*(l<0?l+6:l),n&&a/n,n]},i=([e,t,r])=>{const o=(o,n=(o+e/60)%6)=>r-r*t*Math.max(Math.min(n,4-n,1),0);return s(255,[o(5),o(3),o(1)])},p=([e,t,r],o=t*n(r)+r)=>[e,o?2-2*r/o:0,o],c=([e,t,r],o=r-r*t/2,s=n(o))=>[e,s?(r-o)/s:0,o],h=([e,t,r])=>`hsl(${e} ${100*t}%${100*r}%)`,g=e=>h(c(e)),u=e=>`rgb(${e[0]},${e[1]},${e[2]})`,d=e=>{const[t,r,o]=e.map((e=>e/255)).map((e=>e<=.03928?e/12.92:((e+.055)/1.055)**2));return.2126*t+.7152*r+.0722*o},m={width:"100%",height:"100%"},v={position:"absolute",left:"0",top:"0"},f=(e,t,r=16)=>({background:`repeating-conic-gradient(${e} 0% 25%, ${t} 25% 50%)`,"background-size":`${r}px ${r}px`}),S={"touch-action":"none","-webkit-touch-callout":"none","-webkit-tap-highlight-color":"transparent","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"},b=`conic-gradient(${[0,120,240,360].map((e=>`hsl(${e},100%,50%) ${e}deg`)).join()})`;var C=e.template("<div>");const x=r=>{const o=t.mergeProps({size:"10px"},r),n=()=>i(o.hsv);return s=C(),e.effect((t=>{var r=o.class,l={"pointer-events":"none",position:"absolute",left:100*o.pos[0]+"%",top:100*o.pos[1]+"%",width:o.size,height:o.size,border:"2px solid "+(a(n())>127?"black":"white"),"border-radius":"50%",transform:"translate(-50%, -50%)","background-color":u(n()),...o.style};return r!==t.e&&e.className(s,t.e=r),t.t=e.style(s,l,t.t),t}),{e:void 0,t:void 0}),s;var s};var y=e.template("<div>");const P=r=>{let n;const[s,a]=t.splitProps(r,["hsv","onPick","colorToPos","pointerStyle","pointerClass"]),l=e=>{if(!r.onPick||0===e.buttons)return;const t=o(e.offsetX/e.currentTarget.offsetWidth,0,1),s=o(e.offsetY/e.currentTarget.offsetHeight,0,1);!1!==r.onPick(t,s,"pointerdown"===e.type)?n.setPointerCapture(e.pointerId):n.releasePointerCapture(e.pointerId)};return i=y(),"function"==typeof(p=n)?e.use(p,i):n=i,e.spread(i,e.mergeProps(a,{get style(){return{position:"relative",...S,..."object"==typeof r.style?r.style:{}}},onPointerDown:l,onPointerMove:l}),!1,!0),e.insert(i,(()=>r.children),null),e.insert(i,e.createComponent(x,{get pos(){return r.colorToPos(r.hsv)},get hsv(){return r.hsv},get style(){return s.pointerStyle},get class(){return s.pointerClass}}),null),i;var i,p};var M=e.template("<div>");var k=e.template("<canvas width=32 height=32>");const $=r=>{let o;t.onMount((()=>{const e=o.getContext("2d");e&&((e,t,r)=>{e.clearRect(0,0,t,r),e.fillStyle="#fff";for(let o=0;o<r;o++){const n=o/r,s=Math.round(2*t*Math.min(n,1-n));for(let r=0;r<s;r++){const s=r/t,a=1-n+s/2,l=255*a,i=l*(1-s/a);e.fillStyle=`rgb(${l},${i},${i})`,e.fillRect(r,o,1,1)}t-s>0&&e.fillRect(s,o,t-s,1)}})(e,o.width,o.height)}));const s="polygon(0 0, 0 100%, 100% 50%)";return e.createComponent(P,e.mergeProps(r,{get style(){return{..."object"==typeof r.style?r.style:{},"clip-path":s}},onPick:(e,t,o)=>{let s=2*n(t);if(e>s){if(o)return!1;const r=e-s;e-=.3*r,t>.5?t-=.35*r:t+=.35*r,s=2*n(t)}s>0&&(e/=s);const a=[r.hsv[0],e,1-t];return r.onHSVChange?.(p(a)),!0},colorToPos:e=>{const[,t,r]=c(e);return[2*n(r)*t,1-r]},get children(){var t=k(),n=o;return"function"==typeof n?e.use(n,t):o=t,e.effect((o=>e.style(t,{...m,...v,"clip-path":s,filter:`hue-rotate(${r.hsv[0]}deg)`},o))),t}}))};var H=e.template("<div>");const T=t=>e.createComponent(P,e.mergeProps(t,{onPick:(e,o)=>{const n=Math.atan2(o-.5,e-.5)/r;t.onHSVChange?.([(n+450)%360,t.hsv[1],t.hsv[2]])},colorToPos:([e])=>{const o=e*r,n=(1-100*t.strokeWidth/200)/2;return[.5+n*Math.sin(o),.5-n*Math.cos(o)]},get children(){var r=H();return e.effect((o=>e.style(r,{...m,"background-image":b,"border-radius":"50%","mask-image":`radial-gradient(closest-side circle at center,transparent ${99.5-100*t.strokeWidth}%,black ${100-100*t.strokeWidth}%)`},o))),r}}));var V=e.template("<div>");var w=e.template("<div>");const W=t=>e.createComponent(P,e.mergeProps(t,{onPick:(e,r)=>{t.onHSVChange?.([t.hsv[0],e,1-r])},colorToPos:([,e,t])=>[e,1-t],get children(){var r=w();return e.effect((o=>e.style(r,{...m,"background-color":`hsl(${t.hsv[0]}, 100%, 50%)`,"background-image":"linear-gradient(to top, #000, #0000), linear-gradient(to right, #fff, #fff0)"},o))),r}}));var L=e.template("<div>");var R=e.template("<div>");const j=r=>{const[o,n]=t.splitProps(r,["colorMap","inverseColorMap","backgorundStyle"]);return e.createComponent(P,e.mergeProps(n,{onPick:e=>{const t=o.colorMap(n.hsv,e)[1];n.onHSVChange?.(t)},colorToPos:e=>[o.inverseColorMap(e),.5],get children(){return[e.createComponent(t.Show,{get when(){return o.backgorundStyle},get children(){var t=R();return e.effect((r=>e.style(t,{...v,...m,...o.backgorundStyle},r))),t}}),(n=R(),e.effect((t=>e.style(n,{...v,...m,"background-image":`linear-gradient(to right, ${[0,.25,.5,.75,1].map((e=>r.colorMap(r.hsv,e)[0])).join()})`},t))),n)];var n}}))},q=t=>r=>e.createComponent(j,e.mergeProps(r,{colorMap:(e,r)=>{const o=((e,r)=>(e[t]=255*r,e))(i(e),r);return[u(o),l(o)]},inverseColorMap:e=>i(e)[t]/255})),B=q(0),G=q(1),z=q(2),A=[360,1,1],I=t=>r=>e.createComponent(j,e.mergeProps(r,{colorMap:(e,r)=>{const o=[...e];return o[t]=r*A[t],[g(o),o]},inverseColorMap:e=>e[t]/A[t]})),N=I(0),D=I(1),X=I(2),Y=t=>r=>e.createComponent(j,e.mergeProps(r,{colorMap:(e,r)=>{const o=c(e);return o[t]=r*A[t],[h(o),p(o)]},inverseColorMap:e=>c(e)[t]/A[t]})),E=Y(0),F=Y(1),J=Y(2);exports.AlphaSlider=r=>{const o=t.mergeProps({bgColor1:"darkgray",bgColor2:"lightgray"},r),[n,s]=t.splitProps(o,["bgColor1","bgColor2","alpha","onAlphaChange","hsv","onHSVChange"]);return e.createComponent(j,e.mergeProps(s,{get hsv(){return[0,n.alpha,0]},onHSVChange:e=>{o.onAlphaChange?.(e[1])},colorMap:(e,t)=>[`rgba(${i(n.hsv).join()},${t})`,[0,t,0]],inverseColorMap:e=>e[1],get backgorundStyle(){return f(n.bgColor1,n.bgColor2)}}))},exports.HSCircle=t=>{const o=()=>`rgba(0,0,0,${1-t.hsv[2]})`;return e.createComponent(P,e.mergeProps(t,{onPick:(e,o)=>{const n=2*e-1,s=2*o-1;t.onHSVChange?.([(Math.atan2(s,n)/r+450)%360,Math.min(Math.sqrt(n*n+s*s),1),t.hsv[2]])},colorToPos:([e,t])=>{const o=e*r;return[(Math.sin(o)*t+1)/2,(-Math.cos(o)*t+1)/2]},get children(){var t=M();return e.effect((r=>e.style(t,{...m,"background-image":`linear-gradient(${o()},${o()}),radial-gradient(closest-side, #ffff, #fff0),${b}`,"border-radius":"50%"},r))),t}}))},exports.HSLSliderH=E,exports.HSLSliderL=J,exports.HSLSliderS=F,exports.HSLWheel=r=>{const[o,n]=t.splitProps(r,["rotate","strokeWidth","hsv","onHSVChange","children"]),s=()=>50*(.99-r.strokeWidth);return a=V(),e.spread(a,e.mergeProps(n,{style:{position:"relative"}}),!1,!0),e.insert(a,e.createComponent(T,e.mergeProps(o,{get style(){return{...v,...m}}})),null),e.insert(a,e.createComponent($,e.mergeProps(o,{get style(){return{position:"absolute",left:50-s()/2+"%",top:50-s()*Math.sqrt(3)/2+"%",width:1.5*s()+"%",height:s()*Math.sqrt(3)+"%",transform:r.rotate?`translate(-16.7%, 0) rotate(${r.hsv[0]-90}deg) translate(16.7%, 0)`:"none"}}})),null),a;var a},exports.HSVSliderH=N,exports.HSVSliderS=D,exports.HSVSliderV=X,exports.HSVWheel=r=>{const[o,n]=t.splitProps(r,["rotate","strokeWidth","hsv","onHSVChange","children"]),s=()=>100*(.99-r.strokeWidth)/Math.sqrt(2);return a=L(),e.spread(a,e.mergeProps(n,{style:{position:"relative"}}),!1,!0),e.insert(a,e.createComponent(T,e.mergeProps(o,{get style(){return{...v,...m}}})),null),e.insert(a,e.createComponent(W,e.mergeProps(o,{get style(){return{position:"absolute",left:(100-s())/2+"%",top:(100-s())/2+"%",width:`${s()}%`,height:`${s()}%`,transform:r.rotate?`rotate(${r.hsv[0]-45}deg)`:"none"}}})),null),a;var a},exports.HueWheel=T,exports.RGBSliderB=z,exports.RGBSliderG=G,exports.RGBSliderR=B,exports.SLTriangle=$,exports.SVSquare=W,exports.Slider=j,exports.contrast=(e,t)=>{const r=d(e),o=d(t);return r>o?(r+.05)/(o+.05):(o+.05)/(r+.05)},exports.gradHueConic=b,exports.hslToHSV=p,exports.hslToRGB=([e,t,r])=>{const o=t*n(r),a=(t,n=(t+e/30)%12)=>r-o*Math.max(Math.min(n-3,9-n,1),-1);return s(255,[a(0),a(8),a(4)])},exports.hslToStyle=h,exports.hsvToHSL=c,exports.hsvToRGB=i,exports.hsvToStyle=g,exports.luminance=d,exports.rgbToGrayscale=a,exports.rgbToHSL=e=>{const[t,r,o]=s(1/255,e),n=Math.max(t,r,o),a=n-Math.min(t,r,o),l=1-Math.abs(n+n-a-1),i=a&&(n==t?(r-o)/a:n==r?2+(o-t)/a:4+(t-r)/a);return[60*(i<0?i+6:i),l?a/l:0,(n+n-a)/2]},exports.rgbToHSV=l,exports.rgbToHash=e=>`#${e.map((e=>Math.floor(e).toString(16).padStart(2,"0"))).join("")}`,exports.rgbToStyle=u,exports.styleAbsLT0=v,exports.styleBgCheckerboard=f,exports.styleNoTouchAction=S,exports.styleWH100=m;
//# sourceMappingURL=index.js.map
